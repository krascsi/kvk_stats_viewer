# KovaaK's Stats Viewer

## Description

A graphical desktop application designed to load, analyze, and visualize your KovaaK's aim trainer performance statistics. It reads the local `.csv` stat files generated by KovaaK's, providing insights into your progress over time for different scenarios.

## Features

* **Stats Folder Selection:** Browse and select your KovaaK's stats folder.
* **Auto-Path Detection:** Attempts to automatically find the default KovaaK's stats directory on Windows, macOS, and Linux.
* **Efficient Data Loading:** Parses KovaaK's `.csv` stat files in parallel for faster loading, especially with a large number of files.
* **Playlist Integration:** Load KovaaK's `.json` playlist files to filter and view scenarios grouped by playlist.
* **Scenario Navigation:** Displays a list of all scenarios found in your stats, filterable by:
    * Search term.
    * Loaded Playlists.
    * Start Date.
* **Statistics Summary:** View key performance indicators for the selected scenario:
    * Personal Best (PB) Score
    * Average Score
    * Average Accuracy (calculated from hits/misses)
    * Total Number of Runs
    * Date First Played
    * Date Last Played
* **Performance Plotting:** Visualize your progress over time for the selected scenario using Matplotlib:
    * Score vs. Time.
    * Accuracy vs. Time (on a secondary Y-axis).
    * Toggle visibility for:
        * Raw score/accuracy data points.
        * Moving averages (with configurable window size).
        * PB score progression line.
* **Modern UI:** Built with CustomTkinter for a themed appearance.
* **Logging:** Detailed logs are generated during data processing and saved to the `logs/` directory.
* **Profiling (Optional):** Built-in cProfile integration for performance analysis, configurable via `src/main.py`. Output saved to `profiles/`.

## Requirements

* Python 3.x
* Libraries:
    * `customtkinter`
    * `pandas`
    * `numpy`
    * `matplotlib`

*(It is recommended to create a `requirements.txt` file)*

## Installation

1.  **Clone or Download:** Get the source code.
    ```bash
    git clone <your-repository-url> # Or download the ZIP
    cd kvk-stats-viewer
    ```
2.  **Install Dependencies:** (Assuming a `requirements.txt` file exists or is created)
    ```bash
    pip install -r requirements.txt
    # Or install manually: pip install customtkinter pandas numpy matplotlib
    ```

## Usage

1.  **Run the Application:**
    ```bash
    python src/main.py
    ```
2.  **Select Stats Folder:** When the application starts, it will attempt to find your KovaaK's stats folder. If not found, or if you want to use a different folder, click the "Browse Stats Folder" button.
3.  **Explore:**
    * Use the search bar or load playlists to filter scenarios.
    * Click on a scenario name in the left panel to view its statistics and performance plot.
    * Use the plot options to customize the graph.
    * Set a "Start Date" to filter data shown for all scenarios.

## Folder Structure

```
kvk_stats_viewer/
├── src/                  # Source code
│   ├── __init__.py       # Package marker
│   ├── main.py           # Main application entry point
│   ├── gui.py            # GUI implementation (CTkinter, Matplotlib)
│   ├── data_handler.py   # Data loading, parsing, aggregation
│   └── utils.py          # Utility functions (e.g., path finding)
├── logs/                 # Runtime log files
├── profiles/             # Profiling output files
├── hello.py              # Simple script
├── requirements.txt      # Project dependencies (Recommended)
└── README.md             # This file
```

## Logging

The application uses Python's `logging` module. Log messages (including errors and detailed processing steps) are output to both the console (INFO level) and a file named `data_handler.log` within the `logs/` directory (DEBUG level).

## Profiling

Performance profiling can be enabled/disabled by setting the `PROFILE_ENABLED` flag in `src/main.py`. When enabled, `cProfile` will run, and upon closing the application, raw profiling data (`.prof` file) will be saved in the `profiles/` directory, and a summary will be printed to the logs.